<template>
    <app-layout>
        <div>
            <div class="uk-container">
                <fieldset class="uk-fieldset">
                    <div class="uk-margin">
                        <h2>‡∏Å‡∏£‡∏≠‡∏Å‡∏†‡∏≤‡∏£‡∏∞‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà {{ today }}</h2>
                    </div>
                    <form>
                        <div class="uk-margin">
                            <label for="bizpotential_id">‡∏ä‡∏∑‡πà‡∏≠‡∏¢‡πà‡∏≠ ‡∏™‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏Å</label>
                            <input type="text" :maxlength="2" class="uk-input"
                                   v-model="bizpotential_id"
                                   @input="bizpotential_id = $event.target.value.toUpperCase()"/>
                        </div>
                        <div class="uk-margin">
                            <label for="bizpotential_project">‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö (‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡πÉ‡∏ô BSF.xyz)
                                ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</label>
                            <input type="text" class="uk-input"
                                   v-model="bizpotential_project"
                                   @input="bizpotential_project = $event.target.value.toUpperCase().split(' ').join('_')"/>
                        </div>
                        <div class="uk-container">
                            <div v-for="burden in burdens">
                                <vk-grid>
                                    <div>
                                        <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô</label>
                                        <select class="uk-select" v-model="burden.burdenType" type="text">
                                            <option value="‡πÄ‡∏û‡∏¥‡πà‡∏°">‡πÄ‡∏û‡∏¥‡πà‡∏° ‚ûï</option>
                                            <option value="‡∏•‡∏î">‡∏•‡∏î ‚ûñ</option>
                                            <option value="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‚úç</option>
                                            <option value="‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö üèÅ</option>
                                            <option value="‡πÄ‡∏Ç‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°">‡πÄ‡∏Ç‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏° ü§ù</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label>‡∏†‡∏≤‡∏£‡∏∞‡∏á‡∏≤‡∏ô</label>
                                        <input class="uk-input uk-form-controls-text" v-model="burden.nameBurden"
                                               type="text"/>
                                    </div>
                                    <div>
                                        <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label>
                                        <select class="uk-select" v-model="burden.burdenStatus" type="text">
                                            <option value="‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à">‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚úÖ</option>
                                            <option value="‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£">‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ ‚åö</option>
                                        </select>
                                    </div>

                                </vk-grid>
                            </div>
                            <br/>
                            <div class="uk-button uk-button-danger" @click="addBurden">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏†‡∏≤‡∏£‡∏∞</div>
                        </div>
                        <br/>
                        <div class="uk-container">
                            <div class="uk-button uk-button-primary" @click="makeBurdenText"
                                 v-clipboard:copy="textBurden">
                                ‡∏™‡∏£‡πâ‡∏≤‡∏á Text ‡∏™‡πà‡∏á‡πÉ‡∏ô‡πÑ‡∏•‡∏ô‡πå
                            </div>
                        </div>
                        <br/>
                        <div class="uk-container">
                            <label>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Text ‡∏™‡πà‡∏á‡πÉ‡∏ô‡πÑ‡∏•‡∏ô‡πå</label>
                            <textarea class="uk-textarea" v-model="textBurden"></textarea>
                        </div>
                    </form>
                </fieldset>
            </div>
        </div>
    </app-layout>
</template>

<script>
import moment from "moment";
import AppLayout from "../../../Layouts/Main";

moment.locale('th');
let todayData = moment(new Date());
export default {
    name: "BurdenReport",
    metaInfo: {
        title: "Burden Report"
    },
    components: {
        AppLayout
    },
    data: () => {
        return {
            today: todayData.format('LLLL'),
            burdens: [{}],
            textBurden: '',
            bizpotential_id: '',
            bizpotential_project: '',
            burdenCompleteText: '',
        }
    },
    methods: {
        addBurden: function () {
            this.burdens.push({
                nameBurden: '',
                burdenStatus: '',
                burdenType: ''
            });
        },
        makeBurdenText: function () {
            this.burdenCompleteText = this.burdens.map(body => '(' + body.burdenType + ')' + " ‚ñ∂ " + body.nameBurden + " [" + body.burdenStatus + "] \n").join('');
            this.textBurden = this.bizpotential_id + "\n" + "[ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£ " + this.bizpotential_project + " ]" + "\n" + this.burdenCompleteText;
            this.$swal({
                title: "‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô",
                html: "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à <br/>‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡πà‡∏ô LINE <br/>‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡∏ó‡∏µ‡∏°‡πÑ‡∏î‡πâ",
                icon: "success"
            })
        }
    }
}
</script>

<style lang="sass" scoped>
@import url('https://fonts.googleapis.com/css?family=K2D&display=swap&subset=thai')

body
    font-family: 'K2D', sans-serif

h1, h2, h3, h4, h5, p
    font-family: 'K2D', sans-serif
</style>
